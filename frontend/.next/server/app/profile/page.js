(()=>{var e={};e.id=178,e.ids=[178],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2353:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>t.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>o}),r(5282),r(9079),r(5866);var a=r(3191),i=r(8716),l=r(7922),t=r.n(l),n=r(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(s,c);let o=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5282)),"/app/frontend/src/app/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9079)),"/app/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/app/frontend/src/app/profile/page.tsx"],m="/profile/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},5:(e,s,r)=>{Promise.resolve().then(r.bind(r,1144))},1144:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>f});var a=r(326),i=r(7577),l=r(4723),t=r(165),n=r(874),c=r(9381),o=r(3401),d=r(8939),m=r(381),x=r(5295);let p={very_low:"Muito Baixo",low:"Baixo",moderate:"Moderado",high:"Alto",very_high:"Muito Alto"},h=["Verbal completa","Verbal limitada","Comunica\xe7\xe3o por gestos","Comunica\xe7\xe3o visual/cart\xf5es","Dispositivos de comunica\xe7\xe3o","N\xe3o verbal"],u=["Ru\xeddos altos","Multid\xf5es","Luzes piscantes","Texturas espec\xedficas","Mudan\xe7as de rotina","Ambientes desconhecidos","Cheiros fortes","Temperaturas extremas"],b=["Manh\xe3 cedo (6h-9h)","Manh\xe3 (9h-12h)","Tarde (12h-15h)","Final da tarde (15h-18h)","Noite (18h-21h)","Noite tardia (21h+)"];function f(){let[e,s]=(0,i.useState)(null),[r,f]=(0,i.useState)(!1),[g,j]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!0),{register:N,handleSubmit:_,setValue:w,watch:P,formState:{errors:E}}=(0,l.cI)(),C=async r=>{j(!0);try{let a;if(e?.id&&!y)a=await fetch(`/api/users/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});else if(y){m.ZP.error("Apenas administradores podem criar perfis de usu\xe1rio. Entre em contato com o admin."),j(!1);return}else a=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(a&&a.ok){let e=await a.json();s(e),f(!1),m.ZP.success("Perfil salvo com sucesso!")}else m.ZP.error("Erro ao salvar perfil")}catch(e){console.error("Error saving profile:",e),m.ZP.error("Erro ao salvar perfil")}finally{j(!1)}},k=e=>({very_low:"text-green-600 bg-green-50",low:"text-green-500 bg-green-50",moderate:"text-yellow-600 bg-yellow-50",high:"text-orange-600 bg-orange-50",very_high:"text-red-600 bg-red-50"})[e]||"text-gray-600 bg-gray-50",Z=e=>{let s=P("sensory_profile.specific_triggers")||[];w("sensory_profile.specific_triggers",s.includes(e)?s.filter(s=>s!==e):[...s,e])},M=e=>{let s=P("sensory_profile.preferred_times")||[];w("sensory_profile.preferred_times",s.includes(e)?s.filter(s=>s!==e):[...s,e])};return e?(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(t.Z,{className:"w-8 h-8 text-primary-600 mr-3"}),a.jsx("h1",{className:"text-accessible-2xl font-bold text-secondary-800",children:"Perfil Sensorial"})]}),!y&&(0,a.jsxs)("button",{onClick:()=>f(!r),className:"btn btn-secondary flex items-center",children:[a.jsx(n.Z,{className:"w-5 h-5 mr-2"}),r?"Cancelar":"Editar"]})]}),y&&a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(c.Z,{className:"w-6 h-6 text-amber-600 mr-3"}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-amber-800",children:"Acesso de Usu\xe1rio"}),a.jsx("p",{className:"text-amber-700 text-accessible-base",children:"Perfis sensoriais s\xe3o criados pelos administradores. Como usu\xe1rio, voc\xea pode visualizar estabelecimentos, deixar avalia\xe7\xf5es e coment\xe1rios sobre sua experi\xeancia nos locais."})]})]})}),a.jsx("p",{className:"text-accessible-base text-secondary-600",children:y?"Visualize as prefer\xeancias sensoriais e explore estabelecimentos adequados":"Configure suas prefer\xeancias sensoriais para receber recomenda\xe7\xf5es personalizadas"})]}),(0,a.jsxs)("form",{onSubmit:_(C),className:"space-y-8",children:[(0,a.jsxs)("div",{className:"card",children:[a.jsx("h2",{className:"text-accessible-xl font-semibold text-secondary-800 mb-4",children:"Informa\xe7\xf5es B\xe1sicas"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Nome"}),a.jsx("input",{...N("name",{required:!y&&"Nome \xe9 obrigat\xf3rio"}),className:"input",disabled:!r||y,placeholder:"Nome completo"}),E.name&&a.jsx("p",{className:"text-red-500 text-accessible-sm mt-1",children:E.name.message})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Email"}),a.jsx("input",{...N("email",{required:!y&&"Email \xe9 obrigat\xf3rio",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email inv\xe1lido"}}),type:"email",className:"input",disabled:!r||y,placeholder:"email@exemplo.com"}),E.email&&a.jsx("p",{className:"text-red-500 text-accessible-sm mt-1",children:E.email.message})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[a.jsx("label",{className:"label",children:"Idioma Preferido"}),(0,a.jsxs)("select",{...N("language_preference"),className:"input max-w-xs",disabled:!r||y,children:[a.jsx("option",{value:"pt",children:"\uD83C\uDDF5\uD83C\uDDF9 Portugu\xeas"}),a.jsx("option",{value:"en",children:"\uD83C\uDDEC\uD83C\uDDE7 English"})]})]})]}),(0,a.jsxs)("div",{className:"card",children:[a.jsx("h2",{className:"text-accessible-xl font-semibold text-secondary-800 mb-4",children:"Sensibilidades Sensoriais"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Sensibilidade ao Ru\xeddo"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Object.entries(p).map(([e,s])=>(0,a.jsxs)("label",{className:"flex flex-col items-center p-3 border rounded-lg cursor-pointer hover:bg-secondary-50",children:[a.jsx("input",{...N("sensory_profile.noise_sensitivity"),type:"radio",value:e,disabled:!r||y,className:"mb-2"}),a.jsx("div",{className:`sensory-indicator sensory-${e}`}),a.jsx("span",{className:"text-accessible-sm text-center",children:s})]},e))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Sensibilidade \xe0 Luz"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Object.entries(p).map(([e,s])=>(0,a.jsxs)("label",{className:"flex flex-col items-center p-3 border rounded-lg cursor-pointer hover:bg-secondary-50",children:[a.jsx("input",{...N("sensory_profile.light_sensitivity"),type:"radio",value:e,disabled:!r||y,className:"mb-2"}),a.jsx("div",{className:`sensory-indicator sensory-${e}`}),a.jsx("span",{className:"text-accessible-sm text-center",children:s})]},e))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Toler\xe2ncia a Multid\xf5es"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Object.entries(p).map(([e,s])=>(0,a.jsxs)("label",{className:"flex flex-col items-center p-3 border rounded-lg cursor-pointer hover:bg-secondary-50",children:[a.jsx("input",{...N("sensory_profile.crowd_tolerance"),type:"radio",value:e,disabled:!r||y,className:"mb-2"}),a.jsx("div",{className:`sensory-indicator sensory-${e}`}),a.jsx("span",{className:"text-accessible-sm text-center",children:s})]},e))})]})]})]}),(0,a.jsxs)("div",{className:"card",children:[a.jsx("h2",{className:"text-accessible-xl font-semibold text-secondary-800 mb-4",children:"Necessidades de Comunica\xe7\xe3o"}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Estilo de Comunica\xe7\xe3o"}),a.jsx("select",{...N("sensory_profile.communication_needs"),className:"input",disabled:!r||y,children:h.map(e=>a.jsx("option",{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"card",children:[a.jsx("h2",{className:"text-accessible-xl font-semibold text-secondary-800 mb-4",children:"Gatilhos Espec\xedficos"}),a.jsx("p",{className:"text-accessible-base text-secondary-600 mb-4",children:"Elementos que podem causar desconforto ou ansiedade"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:u.map(e=>(0,a.jsxs)("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-secondary-50",children:[a.jsx("input",{type:"checkbox",checked:P("sensory_profile.specific_triggers")?.includes(e)||!1,onChange:()=>!y&&Z(e),disabled:!r||y,className:"mr-3 w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),a.jsx("span",{className:"text-accessible-sm",children:e})]},e))})]}),(0,a.jsxs)("div",{className:"card",children:[a.jsx("h2",{className:"text-accessible-xl font-semibold text-secondary-800 mb-4",children:"Hor\xe1rios Preferidos"}),a.jsx("p",{className:"text-accessible-base text-secondary-600 mb-4",children:"Hor\xe1rios em que se sente mais confort\xe1vel para atividades"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:b.map(e=>(0,a.jsxs)("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-secondary-50",children:[a.jsx("input",{type:"checkbox",checked:P("sensory_profile.preferred_times")?.includes(e)||!1,onChange:()=>!y&&M(e),disabled:!r||y,className:"mr-3 w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),a.jsx("span",{className:"text-accessible-sm",children:e})]},e))})]}),r&&!y&&a.jsx("div",{className:"flex justify-end",children:(0,a.jsxs)("button",{type:"submit",disabled:g,className:"btn btn-primary flex items-center",children:[g?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):a.jsx(o.Z,{className:"w-5 h-5 mr-2"}),"Salvar Perfil"]})})]}),(!r||y)&&e&&(0,a.jsxs)("div",{className:"card mt-8 bg-gradient-to-r from-primary-50 to-autism-calm",children:[(0,a.jsxs)("h3",{className:"text-accessible-xl font-semibold text-secondary-800 mb-4 flex items-center",children:[a.jsx(d.Z,{className:"w-6 h-6 text-primary-600 mr-2"}),"Resumo do Perfil Sensorial"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-secondary-700 mb-2",children:"Sensibilidades"}),(0,a.jsxs)("div",{className:"space-y-1 text-accessible-sm",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-16",children:"Ru\xeddo:"}),a.jsx("span",{className:`px-2 py-1 rounded ${k(e.sensory_profile.noise_sensitivity)}`,children:p[e.sensory_profile.noise_sensitivity]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-16",children:"Luz:"}),a.jsx("span",{className:`px-2 py-1 rounded ${k(e.sensory_profile.light_sensitivity)}`,children:p[e.sensory_profile.light_sensitivity]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-16",children:"Multid\xe3o:"}),a.jsx("span",{className:`px-2 py-1 rounded ${k(e.sensory_profile.crowd_tolerance)}`,children:p[e.sensory_profile.crowd_tolerance]})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-secondary-700 mb-2",children:"Comunica\xe7\xe3o"}),a.jsx("p",{className:"text-accessible-sm text-secondary-600",children:e.sensory_profile.communication_needs})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-medium text-secondary-700 mb-2",children:["Gatilhos (",e.sensory_profile.specific_triggers.length,")"]}),(0,a.jsxs)("div",{className:"text-accessible-sm text-secondary-600",children:[e.sensory_profile.specific_triggers.length>0?e.sensory_profile.specific_triggers.slice(0,2).map(e=>a.jsx("div",{className:"bg-white px-2 py-1 rounded mb-1",children:e},e)):a.jsx("p",{children:"Nenhum gatilho especificado"}),e.sensory_profile.specific_triggers.length>2&&(0,a.jsxs)("p",{className:"text-secondary-500",children:["+",e.sensory_profile.specific_triggers.length-2," mais"]})]})]})]})]}),a.jsx(x.Z,{})]}):a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center min-h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})})}},5282:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`/app/frontend/src/app/profile/page.tsx#default`)},3401:(e,s,r)=>{"use strict";r.d(s,{Z:()=>i});var a=r(7577);let i=a.forwardRef(function({title:e,titleId:s,...r},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":s},r),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},874:(e,s,r)=>{"use strict";r.d(s,{Z:()=>i});var a=r(7577);let i=a.forwardRef(function({title:e,titleId:s,...r},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":s},r),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},9381:(e,s,r)=>{"use strict";r.d(s,{Z:()=>i});var a=r(7577);let i=a.forwardRef(function({title:e,titleId:s,...r},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":s},r),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[878,723,234],()=>r(2353));module.exports=a})();