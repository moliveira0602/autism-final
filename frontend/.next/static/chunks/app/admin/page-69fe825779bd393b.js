(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{3992:function(e,s,a){Promise.resolve().then(a.bind(a,2792))},2792:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return w}});var t=a(7437),r=a(2265),l=a(9501);let i=r.forwardRef(function(e,s){let{title:a,titleId:t,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},l),a?r.createElement("title",{id:t},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}),n=r.forwardRef(function(e,s){let{title:a,titleId:t,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},l),a?r.createElement("title",{id:t},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))});var c=a(3365);let o=r.forwardRef(function(e,s){let{title:a,titleId:t,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},l),a?r.createElement("title",{id:t},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});var d=a(8690),m=a(6422);let x=r.forwardRef(function(e,s){let{title:a,titleId:t,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},l),a?r.createElement("title",{id:t},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}),h=r.forwardRef(function(e,s){let{title:a,titleId:t,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},l),a?r.createElement("title",{id:t},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}),u=r.forwardRef(function(e,s){let{title:a,titleId:t,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},l),a?r.createElement("title",{id:t},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))});var b=a(7165);let p=r.forwardRef(function(e,s){let{title:a,titleId:t,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},l),a?r.createElement("title",{id:t},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});var j=a(9064),f=a(7648),g=a(6331);let v=r.forwardRef(function(e,s){let{title:a,titleId:t,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},l),a?r.createElement("title",{id:t},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 0 1 1.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.559.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.894.149c-.424.07-.764.383-.929.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 0 1-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.398.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 0 1-.12-1.45l.527-.737c.25-.35.272-.806.108-1.204-.165-.397-.506-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.108-1.204l-.526-.738a1.125 1.125 0 0 1 .12-1.45l.773-.773a1.125 1.125 0 0 1 1.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}),N=r.forwardRef(function(e,s){let{title:a,titleId:t,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},l),a?r.createElement("title",{id:t},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))});function y(){return(0,t.jsx)("footer",{className:"bg-secondary-900 text-white mt-auto",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,t.jsxs)("div",{className:"md:col-span-1",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-600 to-secondary-600 rounded-lg flex items-center justify-center mr-3",children:(0,t.jsx)(d.Z,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("span",{className:"text-accessible-lg font-bold",children:"TEIA Admin"})]}),(0,t.jsx)("p",{className:"text-secondary-300 text-accessible-sm leading-relaxed",children:"Painel administrativo para gest\xe3o completa da plataforma TEIA."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-accessible-base font-semibold mb-4 text-secondary-100",children:"Ferramentas Admin"}),(0,t.jsxs)("ul",{className:"space-y-2",children:[(0,t.jsx)("li",{children:(0,t.jsxs)(f.default,{href:"/admin",className:"text-secondary-300 hover:text-white transition-colors text-accessible-sm flex items-center",children:[(0,t.jsx)(i,{className:"w-4 h-4 mr-2"}),"Estabelecimentos"]})}),(0,t.jsx)("li",{children:(0,t.jsxs)(f.default,{href:"/admin",className:"text-secondary-300 hover:text-white transition-colors text-accessible-sm flex items-center",children:[(0,t.jsx)(n,{className:"w-4 h-4 mr-2"}),"Utilizadores"]})}),(0,t.jsx)("li",{children:(0,t.jsxs)(f.default,{href:"/admin",className:"text-secondary-300 hover:text-white transition-colors text-accessible-sm flex items-center",children:[(0,t.jsx)(g.Z,{className:"w-4 h-4 mr-2"}),"Estat\xedsticas"]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-accessible-base font-semibold mb-4 text-secondary-100",children:"Sistema"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center text-secondary-300 text-accessible-sm",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),(0,t.jsx)("span",{children:"API Operacional"})]}),(0,t.jsxs)("div",{className:"flex items-center text-secondary-300 text-accessible-sm",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),(0,t.jsx)("span",{children:"Base de Dados OK"})]}),(0,t.jsxs)("div",{className:"flex items-center text-secondary-300 text-accessible-sm",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-2"}),(0,t.jsx)("span",{children:"Backups Agendados"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-accessible-base font-semibold mb-4 text-secondary-100",children:"A\xe7\xf5es R\xe1pidas"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(f.default,{href:"/admin",className:"text-secondary-300 hover:text-white transition-colors text-accessible-sm flex items-center",children:[(0,t.jsx)(v,{className:"w-4 h-4 mr-2"}),"Configura\xe7\xf5es"]}),(0,t.jsxs)(f.default,{href:"/admin",className:"text-secondary-300 hover:text-white transition-colors text-accessible-sm flex items-center",children:[(0,t.jsx)(N,{className:"w-4 h-4 mr-2"}),"Relat\xf3rios"]}),(0,t.jsx)(f.default,{href:"/",className:"text-secondary-300 hover:text-white transition-colors text-accessible-sm",children:"← Voltar ao Site"})]})]})]}),(0,t.jsx)("div",{className:"border-t border-secondary-700 mt-8 pt-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,t.jsx)("p",{className:"text-secondary-400 text-accessible-sm",children:"\xa9 2025 TEIA Admin Panel - Acesso Restrito"}),(0,t.jsxs)("div",{className:"text-secondary-400 text-accessible-sm mt-2 md:mt-0",children:["\xdaltima atualiza\xe7\xe3o: ",new Date().toLocaleDateString("pt-PT")]})]})})]})})}function w(){let[e,s]=(0,r.useState)("establishments"),[a,f]=(0,r.useState)([]),[g,v]=(0,r.useState)([]),[N,w]=(0,r.useState)([]),[Z,A]=(0,r.useState)(!1),[_,P]=(0,r.useState)(!1),[S,D]=(0,r.useState)(null),[M,O]=(0,r.useState)(null),[R,T]=(0,r.useState)(!1),[B,W]=(0,r.useState)([]),[q,F]=(0,r.useState)(!1),{register:H,handleSubmit:z,reset:V,setValue:I,watch:U,formState:{errors:G}}=(0,l.cI)();(0,r.useEffect)(()=>{Q(),K(),J()},[]);let Q=async()=>{try{let e=await fetch("/api/establishments");if(e.ok){let s=await e.json();f(s)}}catch(e){console.error("Error fetching establishments:",e),j.ZP.error("Erro ao carregar estabelecimentos")}},J=async()=>{try{let e=await fetch("/api/partners");if(e.ok){let s=await e.json();w(s)}}catch(e){console.error("Error fetching partners:",e),j.ZP.error("Erro ao carregar parceiros")}},K=async()=>{try{let e=await fetch("/api/users");if(e.ok){let s=await e.json();v(s)}}catch(e){console.error("Error fetching users:",e)}},X=async e=>{T(!0);try{let s={...e,images:B,coordinates:{lat:Number(e.coordinates.lat)||37,lng:Number(e.coordinates.lng)||-8}};(S?await fetch("/api/establishments/".concat(S),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}):await fetch("/api/establishments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok?(j.ZP.success(S?"Estabelecimento atualizado!":"Estabelecimento criado!"),Q(),ee()):j.ZP.error("Erro ao salvar estabelecimento")}catch(e){console.error("Error saving establishment:",e),j.ZP.error("Erro ao salvar estabelecimento")}finally{T(!1)}},Y=e=>{D(e.id||null),A(!0),W(e.images||[]),Object.keys(e).forEach(s=>{"coordinates"===s?(I("coordinates.lat",e.coordinates.lat),I("coordinates.lng",e.coordinates.lng)):I(s,e[s])})},$=async e=>{if(confirm("Tem certeza que deseja excluir este estabelecimento?"))try{(await fetch("/api/establishments/".concat(e),{method:"DELETE"})).ok?(j.ZP.success("Estabelecimento exclu\xeddo!"),Q()):j.ZP.error("Erro ao excluir estabelecimento")}catch(e){console.error("Error deleting establishment:",e),j.ZP.error("Erro ao excluir estabelecimento")}},ee=()=>{A(!1),D(null),W([]),V()},es=e=>{W(s=>s.filter((s,a)=>a!==e))},ea=e=>{let s=U("accessibility_features")||[];I("accessibility_features",s.includes(e)?s.filter(s=>s!==e):[...s,e])},et=async()=>{let e=U("address");if(!e){j.ZP.error("Digite o endere\xe7o primeiro");return}F(!0);try{let s=e.toLowerCase();for(let[e,a]of Object.entries(L))if(s.includes(a.name.toLowerCase())){I("coordinates.lat",a.lat),I("coordinates.lng",a.lng),j.ZP.success("Coordenadas definidas para ".concat(a.name)),F(!1);return}s.includes("algarve")?(I("coordinates.lat",L.faro.lat),I("coordinates.lng",L.faro.lng),j.ZP.success("Coordenadas definidas para Faro (padr\xe3o do Algarve)")):j.ZP.error("N\xe3o foi poss\xedvel determinar coordenadas. Selecione uma cidade ou digite manualmente.")}catch(e){j.ZP.error("Erro ao procurar coordenadas")}finally{F(!1)}};return(0,t.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8 flex-1",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-accessible-2xl font-bold text-secondary-800 mb-2",children:"Painel Administrativo - TEIA"}),(0,t.jsx)("p",{className:"text-accessible-base text-secondary-600 mb-4",children:"Gerencie estabelecimentos e usu\xe1rios da plataforma"}),(0,t.jsxs)("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4 mb-6",children:[(0,t.jsx)("h3",{className:"font-semibold text-primary-800 mb-2",children:"\uD83D\uDD10 \xc1rea Administrativa"}),(0,t.jsxs)("div",{className:"text-primary-700 text-accessible-base space-y-1",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Estabelecimentos:"})," Apenas administradores podem adicionar, editar e excluir estabelecimentos"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Usu\xe1rios:"})," Apenas administradores podem criar perfis de usu\xe1rios"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Papel dos Usu\xe1rios:"})," Usu\xe1rios podem visualizar estabelecimentos, deixar avalia\xe7\xf5es e coment\xe1rios"]})]})]})]}),(0,t.jsxs)("div",{className:"flex space-x-1 mb-8 bg-secondary-100 p-1 rounded-lg",children:[(0,t.jsxs)("button",{onClick:()=>s("establishments"),className:"btn-with-icon px-4 py-2 rounded-md text-accessible-base font-medium transition-colors ".concat("establishments"===e?"bg-white text-primary-600 shadow-sm":"text-secondary-600 hover:text-secondary-800"),children:[(0,t.jsx)(i,{className:"w-5 h-5"}),"Estabelecimentos (",a.length,")"]}),(0,t.jsxs)("button",{onClick:()=>s("users"),className:"btn-with-icon px-4 py-2 rounded-md text-accessible-base font-medium transition-colors ".concat("users"===e?"bg-white text-primary-600 shadow-sm":"text-secondary-600 hover:text-secondary-800"),children:[(0,t.jsx)(n,{className:"w-5 h-5"}),"Usu\xe1rios (",g.length,")"]}),(0,t.jsxs)("button",{onClick:()=>s("partners"),className:"btn-with-icon px-4 py-2 rounded-md text-accessible-base font-medium transition-colors ".concat("partners"===e?"bg-white text-primary-600 shadow-sm":"text-secondary-600 hover:text-secondary-800"),children:[(0,t.jsx)(c.Z,{className:"w-5 h-5"}),"Parceiros (",N.length,")"]})]}),"establishments"===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-accessible-xl font-semibold text-secondary-800",children:"Gest\xe3o de Estabelecimentos"}),(0,t.jsxs)("button",{onClick:()=>A(!0),className:"btn btn-primary btn-with-icon",children:[(0,t.jsx)(o,{className:"w-5 h-5"}),"Novo Estabelecimento"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,t.jsx)("div",{className:"card hover:shadow-lg transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center mb-2",children:[(0,t.jsx)("h3",{className:"text-accessible-lg font-semibold text-secondary-800 mr-3",children:e.name}),e.certified_autism_friendly&&(0,t.jsx)(d.Z,{className:"w-5 h-5 text-green-600"}),(0,t.jsx)("span",{className:"ml-2 bg-secondary-100 text-secondary-700 px-2 py-1 rounded text-accessible-sm",children:E[e.type]})]}),(0,t.jsx)("p",{className:"text-secondary-600 text-accessible-base mb-2 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center text-accessible-sm text-secondary-500",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 mr-1"}),e.address]}),e.accessibility_features.length>0&&(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap gap-1",children:[e.accessibility_features.slice(0,3).map(e=>(0,t.jsx)("span",{className:"text-xs bg-autism-friendly text-secondary-700 px-2 py-1 rounded",children:k[e]||e},e)),e.accessibility_features.length>3&&(0,t.jsxs)("span",{className:"text-xs text-secondary-500",children:["+",e.accessibility_features.length-3," mais"]})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>Y(e),className:"p-2 text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",children:(0,t.jsx)(x,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>$(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,t.jsx)(h,{className:"w-5 h-5"})})]})]})},e.id))}),0===a.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(i,{className:"w-16 h-16 text-secondary-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-accessible-xl font-semibold text-secondary-600 mb-2",children:"Nenhum estabelecimento cadastrado"}),(0,t.jsx)("p",{className:"text-accessible-base text-secondary-500 mb-4",children:"Comece criando seu primeiro estabelecimento autism-friendly"}),(0,t.jsx)("button",{onClick:()=>A(!0),className:"btn btn-primary",children:"Criar Primeiro Estabelecimento"})]})]}),"users"===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-accessible-xl font-semibold text-secondary-800",children:"Gest\xe3o de Usu\xe1rios"}),(0,t.jsxs)("button",{onClick:()=>window.location.href="/profile",className:"btn btn-primary btn-with-icon",children:[(0,t.jsx)(u,{className:"w-5 h-5"}),"Criar Usu\xe1rio"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:g.map(e=>(0,t.jsx)("div",{className:"card hover:shadow-lg transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-accessible-lg font-semibold text-secondary-800 mb-1",children:e.name||"Nome n\xe3o informado"}),(0,t.jsx)("p",{className:"text-secondary-600 text-accessible-base mb-2",children:e.email||"Email n\xe3o informado"}),(0,t.jsxs)("div",{className:"flex items-center text-accessible-sm text-secondary-500",children:[(0,t.jsxs)("span",{className:"mr-4",children:["Idioma: ","pt"===e.language_preference?"\uD83C\uDDF5\uD83C\uDDF9 Portugu\xeas":"\uD83C\uDDEC\uD83C\uDDE7 English"]}),e.sensory_profile&&(0,t.jsx)("span",{children:"Perfil sensorial configurado ✓"})]})]}),(0,t.jsx)("div",{className:"flex space-x-2 ml-4",children:(0,t.jsx)("button",{onClick:()=>window.location.href="/profile",className:"p-2 text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Editar usu\xe1rio",children:(0,t.jsx)(x,{className:"w-5 h-5"})})})]})},e.id))}),0===g.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(n,{className:"w-16 h-16 text-secondary-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-accessible-xl font-semibold text-secondary-600 mb-2",children:"Nenhum usu\xe1rio cadastrado"}),(0,t.jsx)("p",{className:"text-accessible-base text-secondary-500 mb-4",children:"Crie perfis para usu\xe1rios que utilizar\xe3o a plataforma"}),(0,t.jsx)("button",{onClick:()=>window.location.href="/profile",className:"btn btn-primary",children:"Criar Primeiro Usu\xe1rio"})]})]}),Z&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,t.jsx)("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-accessible-xl font-semibold text-secondary-800",children:S?"Editar Estabelecimento":"Novo Estabelecimento"}),(0,t.jsx)("button",{onClick:ee,className:"p-2 hover:bg-secondary-100 rounded-lg",children:(0,t.jsx)(b.Z,{className:"w-6 h-6 text-secondary-600"})})]}),(0,t.jsxs)("form",{onSubmit:z(X),className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Nome *"}),(0,t.jsx)("input",{...H("name",{required:"Nome \xe9 obrigat\xf3rio"}),className:"input",placeholder:"Nome do estabelecimento"}),G.name&&(0,t.jsx)("p",{className:"text-red-500 text-accessible-sm mt-1",children:G.name.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Tipo *"}),(0,t.jsxs)("select",{...H("type",{required:"Tipo \xe9 obrigat\xf3rio"}),className:"input",children:[(0,t.jsx)("option",{value:"",children:"Selecione o tipo"}),Object.entries(E).map(e=>{let[s,a]=e;return(0,t.jsx)("option",{value:s,children:a},s)})]}),G.type&&(0,t.jsx)("p",{className:"text-red-500 text-accessible-sm mt-1",children:G.type.message})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Descri\xe7\xe3o *"}),(0,t.jsx)("textarea",{...H("description",{required:"Descri\xe7\xe3o \xe9 obrigat\xf3ria"}),className:"input",rows:3,placeholder:"Descri\xe7\xe3o detalhada do estabelecimento"}),G.description&&(0,t.jsx)("p",{className:"text-red-500 text-accessible-sm mt-1",children:G.description.message})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Endere\xe7o Completo *"}),(0,t.jsx)("textarea",{...H("address",{required:"Endere\xe7o \xe9 obrigat\xf3rio"}),className:"input",rows:2,placeholder:"Ex: Rua do Mar, 123, Quarteira, 8125-000 Loul\xe9, Algarve, Portugal"}),G.address&&(0,t.jsx)("p",{className:"text-red-500 text-accessible-sm mt-1",children:G.address.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Cidade/Regi\xe3o do Algarve"}),(0,t.jsxs)("select",{onChange:e=>{let s=e.target.value;if(s){let e=L[s];I("coordinates.lat",e.lat),I("coordinates.lng",e.lng)}},className:"input",children:[(0,t.jsx)("option",{value:"",children:"Selecione a cidade para coordenadas autom\xe1ticas"}),Object.entries(L).map(e=>{let[s,a]=e;return(0,t.jsx)("option",{value:s,children:a.name},s)})]}),(0,t.jsx)("p",{className:"text-accessible-sm text-secondary-500 mt-1",children:"As coordenadas ser\xe3o preenchidas automaticamente baseadas na cidade selecionada"})]}),(0,t.jsxs)("div",{className:"bg-secondary-50 p-4 rounded-lg",children:[(0,t.jsxs)("h4",{className:"font-medium text-secondary-800 mb-3 flex items-center",children:[(0,t.jsx)(m.Z,{className:"w-5 h-5 mr-2"}),"Coordenadas GPS (Preenchimento Autom\xe1tico)"]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[(0,t.jsxs)("button",{type:"button",onClick:et,disabled:q,className:"btn btn-secondary btn-with-icon",children:[q?(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"}):(0,t.jsx)(m.Z,{className:"w-4 h-4"}),q?"Procurando...":"Buscar do Endere\xe7o"]}),(0,t.jsx)("div",{className:"text-accessible-sm text-secondary-600 flex items-center",children:(0,t.jsx)("span",{children:"\uD83D\uDCA1 Digite o endere\xe7o acima e clique para encontrar coordenadas automaticamente"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Latitude"}),(0,t.jsx)("input",{...H("coordinates.lat"),type:"number",step:"any",className:"input bg-white",placeholder:"37.0000",readOnly:!1}),(0,t.jsx)("p",{className:"text-accessible-sm text-secondary-500 mt-1",children:"Preenchido automaticamente ou ajuste manualmente"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Longitude"}),(0,t.jsx)("input",{...H("coordinates.lng"),type:"number",step:"any",className:"input bg-white",placeholder:"-8.0000",readOnly:!1}),(0,t.jsx)("p",{className:"text-accessible-sm text-secondary-500 mt-1",children:"Preenchido automaticamente ou ajuste manualmente"})]})]}),(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsxs)("p",{className:"text-accessible-sm text-secondary-600",children:[(0,t.jsx)("strong",{children:"Dica:"})," Se as coordenadas n\xe3o estiverem corretas, pode ajust\xe1-las manualmente ou usar ferramentas como Google Maps para obter coordenadas precisas."]})})]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{...H("certified_autism_friendly"),type:"checkbox",className:"mr-3 w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),(0,t.jsx)(d.Z,{className:"w-5 h-5 text-green-600 mr-2"}),(0,t.jsx)("span",{className:"label mb-0",children:"Certificado Autism Friendly"})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Recursos de Acessibilidade"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(k).map(e=>{var s;let[a,r]=e;return(0,t.jsxs)("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-secondary-50",children:[(0,t.jsx)("input",{type:"checkbox",checked:(null===(s=U("accessibility_features"))||void 0===s?void 0:s.includes(a))||!1,onChange:()=>ea(a),className:"mr-3 w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),(0,t.jsx)("span",{className:"text-accessible-sm",children:r})]},a)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Informa\xe7\xf5es de Contato"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)("input",{...H("contact_info.phone"),className:"input",placeholder:"Telefone"}),(0,t.jsx)("input",{...H("contact_info.email"),type:"email",className:"input",placeholder:"Email"}),(0,t.jsx)("input",{...H("contact_info.website"),className:"input",placeholder:"Website"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Hor\xe1rios de Funcionamento"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(C).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("span",{className:"w-24 text-accessible-sm",children:[a,":"]}),(0,t.jsx)("input",{...H("opening_hours.".concat(s)),className:"input flex-1",placeholder:"09:00-18:00"})]},s)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Imagens"}),(0,t.jsxs)("div",{className:"border-2 border-dashed border-secondary-300 rounded-lg p-6",children:[(0,t.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{let s=e.target.files;s&&Array.from(s).forEach(e=>{let s=new FileReader;s.onload=e=>{var s;let a=(null===(s=e.target)||void 0===s?void 0:s.result).split(",")[1];W(e=>[...e,a])},s.readAsDataURL(e)})},className:"hidden",id:"image-upload"}),(0,t.jsxs)("label",{htmlFor:"image-upload",className:"flex flex-col items-center cursor-pointer",children:[(0,t.jsx)(p,{className:"w-12 h-12 text-secondary-400 mb-2"}),(0,t.jsx)("span",{className:"text-accessible-base text-secondary-600",children:"Clique para selecionar imagens"})]})]}),B.length>0&&(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:B.map((e,s)=>(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:"data:image/jpeg;base64,".concat(e),alt:"Preview ".concat(s+1),className:"w-full h-24 object-cover rounded-lg"}),(0,t.jsx)("button",{type:"button",onClick:()=>es(s),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,t.jsx)(b.Z,{className:"w-4 h-4"})})]},s))})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[(0,t.jsx)("button",{type:"button",onClick:ee,className:"btn btn-secondary",children:"Cancelar"}),(0,t.jsxs)("button",{type:"submit",disabled:R,className:"btn btn-primary btn-with-icon",children:[R?(0,t.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):(0,t.jsx)(o,{className:"w-5 h-5"}),S?"Atualizar":"Criar"," Estabelecimento"]})]})]})]})})})]}),(0,t.jsx)(y,{})]})}let E={hotel:"Hotel",restaurant:"Restaurante",attraction:"Atra\xe7\xe3o",event:"Evento",shopping:"Compras",transport:"Transporte"},k={quiet_spaces:"Espa\xe7os Silenciosos",sensory_rooms:"Salas Sensoriais",low_lighting:"Ilumina\xe7\xe3o Reduzida",trained_staff:"Equipe Treinada",visual_schedules:"Hor\xe1rios Visuais",noise_reduction:"Redu\xe7\xe3o de Ru\xeddo",calm_environment:"Ambiente Calmo",flexible_timing:"Hor\xe1rios Flex\xedveis"},C={monday:"Segunda-feira",tuesday:"Ter\xe7a-feira",wednesday:"Quarta-feira",thursday:"Quinta-feira",friday:"Sexta-feira",saturday:"S\xe1bado",sunday:"Domingo"},L={faro:{name:"Faro",lat:37.0194,lng:-7.9322},lagos:{name:"Lagos",lat:37.1017,lng:-8.6689},portimao:{name:"Portim\xe3o",lat:37.1364,lng:-8.5378},albufeira:{name:"Albufeira",lat:37.0879,lng:-8.2507},vilamoura:{name:"Vilamoura",lat:37.0833,lng:-8.1167},quarteira:{name:"Quarteira",lat:37.0689,lng:-8.1},loule:{name:"Loul\xe9",lat:37.1364,lng:-8.0206},olhao:{name:"Olh\xe3o",lat:37.0267,lng:-7.84},tavira:{name:"Tavira",lat:37.127,lng:-7.6492},sagres:{name:"Sagres",lat:37.0059,lng:-8.9478},monchique:{name:"Monchique",lat:37.3167,lng:-8.5549},silves:{name:"Silves",lat:37.1911,lng:-8.4392},armacao_pera:{name:"Arma\xe7\xe3o de P\xeara",lat:37.1022,lng:-8.35},carvoeiro:{name:"Carvoeiro",lat:37.0959,lng:-8.4667},alvor:{name:"Alvor",lat:37.1333,lng:-8.5833},monte_gordo:{name:"Monte Gordo",lat:37.18,lng:-7.4431},castro_marim:{name:"Castro Marim",lat:37.2186,lng:-7.4433},vila_real_santo_antonio:{name:"Vila Real de Santo Ant\xf3nio",lat:37.1942,lng:-7.4147},aljezur:{name:"Aljezur",lat:37.3181,lng:-8.8031},vila_do_bispo:{name:"Vila do Bispo",lat:37.0833,lng:-8.9167}}},6331:function(e,s,a){"use strict";var t=a(2265);let r=t.forwardRef(function(e,s){let{title:a,titleId:r,...l}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},l),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))});s.Z=r},6422:function(e,s,a){"use strict";var t=a(2265);let r=t.forwardRef(function(e,s){let{title:a,titleId:r,...l}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},l),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))});s.Z=r},8690:function(e,s,a){"use strict";var t=a(2265);let r=t.forwardRef(function(e,s){let{title:a,titleId:r,...l}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},l),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))});s.Z=r},7165:function(e,s,a){"use strict";var t=a(2265);let r=t.forwardRef(function(e,s){let{title:a,titleId:r,...l}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},l),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});s.Z=r}},function(e){e.O(0,[8,64,501,971,117,744],function(){return e(e.s=3992)}),_N_E=e.O()}]);