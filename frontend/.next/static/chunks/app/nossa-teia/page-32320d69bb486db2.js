(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[581],{8108:function(e,s,t){Promise.resolve().then(t.bind(t,6652))},6652:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var a=t(7437),l=t(2265),r=t(7648);let i=l.forwardRef(function(e,s){let{title:t,titleId:a,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},r),t?l.createElement("title",{id:a},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}),n=l.forwardRef(function(e,s){let{title:t,titleId:a,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},r),t?l.createElement("title",{id:a},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))});var c=t(8690),o=t(6422),d=t(9390),m=t(9064);let x={hotel:"Hotel",restaurant:"Restaurante",attraction:"Atra\xe7\xe3o",event:"Evento",shopping:"Compras",transport:"Transporte"},u={quiet_spaces:"Espa\xe7os Silenciosos",sensory_rooms:"Salas Sensoriais",low_lighting:"Ilumina\xe7\xe3o Reduzida",trained_staff:"Equipe Treinada",visual_schedules:"Hor\xe1rios Visuais",noise_reduction:"Redu\xe7\xe3o de Ru\xeddo",calm_environment:"Ambiente Calmo",flexible_timing:"Hor\xe1rios Flex\xedveis"};function h(){let[e,s]=(0,l.useState)([]),[t,h]=(0,l.useState)([]),[f,b]=(0,l.useState)(!0),[p,j]=(0,l.useState)(""),[g,y]=(0,l.useState)(!1),[v,N]=(0,l.useState)({type:"",certifiedOnly:!1,minRating:0,features:[]});(0,l.useEffect)(()=>{w()},[]),(0,l.useEffect)(()=>{k()},[e,p,v]);let w=async()=>{try{b(!0);let e=await fetch("/api/establishments");if(e.ok){let t=await e.json();s(t)}else m.ZP.error("Erro ao carregar estabelecimentos")}catch(e){console.error("Error fetching establishments:",e),m.ZP.error("Erro ao carregar estabelecimentos")}finally{b(!1)}},k=()=>{let s=[...e];p&&(s=s.filter(e=>e.name.toLowerCase().includes(p.toLowerCase())||e.description.toLowerCase().includes(p.toLowerCase())||e.address.toLowerCase().includes(p.toLowerCase()))),v.type&&(s=s.filter(e=>e.type===v.type)),v.certifiedOnly&&(s=s.filter(e=>e.certified_autism_friendly)),v.minRating>0&&(s=s.filter(e=>e.autism_rating>=v.minRating)),v.features.length>0&&(s=s.filter(e=>v.features.every(s=>e.accessibility_features.includes(s)))),h(s)},E=e=>{N(s=>({...s,features:s.features.includes(e)?s.features.filter(s=>s!==e):[...s.features,e]}))},_=()=>{N({type:"",certifiedOnly:!1,minRating:0,features:[]}),j("")};return f?(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-accessible-2xl font-bold text-secondary-800 mb-4",children:"Estabelecimentos Autism Friendly"}),(0,a.jsx)("p",{className:"text-accessible-base text-secondary-600",children:"Descubra locais certificados e preparados para receber pessoas com TEA no Algarve"})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-secondary-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Pesquisar estabelecimentos...",value:p,onChange:e=>j(e.target.value),className:"input pl-10"})]}),(0,a.jsxs)("button",{onClick:()=>y(!g),className:"btn btn-secondary flex items-center",children:[(0,a.jsx)(n,{className:"w-5 h-5 mr-2"}),"Filtros",(v.type||v.certifiedOnly||v.minRating>0||v.features.length>0)&&(0,a.jsx)("span",{className:"ml-2 bg-primary-600 text-white rounded-full px-2 py-1 text-xs",children:Object.values(v).filter(e=>e&&(!Array.isArray(e)||e.length>0)).length})]})]}),g&&(0,a.jsxs)("div",{className:"card border-l-4 border-l-primary-600",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-accessible-lg font-semibold text-secondary-800",children:"Filtros"}),(0,a.jsx)("button",{onClick:_,className:"text-secondary-500 hover:text-secondary-700 text-accessible-sm",children:"Limpar Todos"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",children:"Tipo de Estabelecimento"}),(0,a.jsxs)("select",{value:v.type,onChange:e=>N(s=>({...s,type:e.target.value})),className:"input",children:[(0,a.jsx)("option",{value:"",children:"Todos os tipos"}),Object.entries(x).map(e=>{let[s,t]=e;return(0,a.jsx)("option",{value:s,children:t},s)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",children:"Certifica\xe7\xe3o"}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:v.certifiedOnly,onChange:e=>N(s=>({...s,certifiedOnly:e.target.checked})),className:"mr-2 w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),(0,a.jsx)("span",{className:"text-accessible-base text-secondary-700",children:"Apenas certificados"}),(0,a.jsx)(c.Z,{className:"w-4 h-4 ml-1 text-green-600"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",children:"Avalia\xe7\xe3o M\xednima"}),(0,a.jsxs)("select",{value:v.minRating,onChange:e=>N(s=>({...s,minRating:Number(e.target.value)})),className:"input",children:[(0,a.jsx)("option",{value:0,children:"Todas as avalia\xe7\xf5es"}),(0,a.jsx)("option",{value:3,children:"3+ estrelas"}),(0,a.jsx)("option",{value:4,children:"4+ estrelas"}),(0,a.jsx)("option",{value:4.5,children:"4.5+ estrelas"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",children:"Recursos de Acessibilidade"}),(0,a.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:Object.entries(u).map(e=>{let[s,t]=e;return(0,a.jsxs)("label",{className:"flex items-center text-accessible-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:v.features.includes(s),onChange:()=>E(s),className:"mr-2 w-3 h-3 text-primary-600 rounded focus:ring-primary-500"}),t]},s)})})]})]})]})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("p",{className:"text-accessible-base text-secondary-600",children:[t.length," estabelecimento",1!==t.length?"s":""," encontrado",1!==t.length?"s":""]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,a.jsxs)("div",{className:"card hover:shadow-lg transition-shadow",children:[e.images.length>0&&(0,a.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.images[0]),alt:e.name,className:"w-full h-48 object-cover rounded-lg mb-4"}),(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-accessible-lg font-semibold text-secondary-800 mb-1",children:e.name}),(0,a.jsx)("span",{className:"inline-block bg-secondary-100 text-secondary-700 px-2 py-1 rounded text-accessible-sm",children:x[e.type]})]}),e.certified_autism_friendly&&(0,a.jsx)(c.Z,{className:"w-6 h-6 text-green-600 flex-shrink-0"})]}),(0,a.jsx)("p",{className:"text-secondary-600 text-accessible-base mb-3 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center mb-3",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 text-secondary-500 mr-1 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-accessible-sm text-secondary-500 truncate",children:e.address})]}),e.accessibility_features.length>0&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.accessibility_features.slice(0,3).map(e=>(0,a.jsx)("span",{className:"text-xs bg-autism-friendly text-secondary-700 px-2 py-1 rounded",children:u[e]||e},e)),e.accessibility_features.length>3&&(0,a.jsxs)("span",{className:"text-xs text-secondary-500",children:["+",e.accessibility_features.length-3," mais"]})]})}),(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 text-yellow-500 mr-1 fill-current"}),(0,a.jsx)("span",{className:"text-accessible-sm font-medium",children:e.autism_rating.toFixed(1)}),(0,a.jsx)("span",{className:"text-accessible-sm text-secondary-500 ml-1",children:"TEA Rating"})]})}),(0,a.jsx)(r.default,{href:"/establishments/".concat(e.id),className:"btn btn-primary w-full",children:"Ver Detalhes"})]},e.id))}),0===t.length&&!f&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(o.Z,{className:"w-16 h-16 text-secondary-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-accessible-xl font-semibold text-secondary-600 mb-2",children:"Nenhum estabelecimento encontrado"}),(0,a.jsx)("p",{className:"text-accessible-base text-secondary-500 mb-4",children:"Tente ajustar os filtros ou fazer uma nova pesquisa"}),(0,a.jsx)("button",{onClick:_,className:"btn btn-primary",children:"Limpar Filtros"})]})]})}},6422:function(e,s,t){"use strict";var a=t(2265);let l=a.forwardRef(function(e,s){let{title:t,titleId:l,...r}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},r),t?a.createElement("title",{id:l},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))});s.Z=l},8690:function(e,s,t){"use strict";var a=t(2265);let l=a.forwardRef(function(e,s){let{title:t,titleId:l,...r}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},r),t?a.createElement("title",{id:l},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))});s.Z=l},9390:function(e,s,t){"use strict";var a=t(2265);let l=a.forwardRef(function(e,s){let{title:t,titleId:l,...r}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},r),t?a.createElement("title",{id:l},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))});s.Z=l}},function(e){e.O(0,[64,648,971,117,744],function(){return e(e.s=8108)}),_N_E=e.O()}]);