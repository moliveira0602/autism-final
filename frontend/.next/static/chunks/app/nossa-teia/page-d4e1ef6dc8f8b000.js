(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[581],{8108:function(e,s,a){Promise.resolve().then(a.bind(a,8235))},8235:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return j}});var t=a(7437),i=a(2265),l=a(7648),r=a(166),c=a(1556),n=a(4565),o=a(7165),d=a(8690),m=a(9390),x=a(6422),h=a(9064),p=a(2834),b=a(9295),f=a(4152);let u=(0,r.default)(()=>Promise.all([a.e(641),a.e(212),a.e(82)]).then(a.bind(a,82)),{loadableGenerated:{webpack:()=>[82]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"w-full h-96 lg:h-[500px] flex items-center justify-center bg-secondary-100",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-secondary-600",children:"Carregando mapa..."})]})})});function j(){let{language:e}=(0,f.Z)(),[s,a]=(0,i.useState)([]),[r,j]=(0,i.useState)([]),[v,N]=(0,i.useState)(!0),[g,y]=(0,i.useState)(""),[w,A]=(0,i.useState)(!1),[k,C]=(0,i.useState)({type:"",certified_only:!1,rating_min:0,accessibility:[]}),_=(0,i.useRef)({});(0,i.useEffect)(()=>{E()},[]),(0,i.useEffect)(()=>{T()},[s,g,k]);let E=async()=>{try{let e=await fetch("/api/establishments");if(e.ok){let s=await e.json();a(s)}else h.ZP.error("Erro ao carregar estabelecimentos")}catch(e){console.error("Error fetching establishments:",e),h.ZP.error("Erro ao carregar estabelecimentos")}finally{N(!1)}},T=()=>{let e=[...s];g&&(e=e.filter(e=>e.name.toLowerCase().includes(g.toLowerCase())||e.description.toLowerCase().includes(g.toLowerCase())||e.address.toLowerCase().includes(g.toLowerCase()))),k.type&&(e=e.filter(e=>e.type===k.type)),k.certified_only&&(e=e.filter(e=>e.certified_autism_friendly)),k.rating_min>0&&(e=e.filter(e=>(e.rating_average||0)>=k.rating_min)),j(e)},L=()=>{C({type:"",certified_only:!1,rating_min:0,accessibility:[]}),y("")};return v?(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(b.Z,{}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-primary-100 to-autism-calm mt-16",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"text-center max-w-4xl mx-auto px-6",children:[(0,t.jsx)("h1",{className:"text-accessible-2xl font-bold text-secondary-800 mb-4",children:"pt"===e?"Estabelecimentos Autism Friendly no Algarve":"Autism Friendly Establishments in Algarve"}),(0,t.jsx)("p",{className:"text-accessible-lg text-secondary-600 mb-6",children:"pt"===e?"Descubra locais preparados para receber pessoas com TEA e suas fam\xedlias. Explore o mapa interativo e encontre informa\xe7\xf5es detalhadas sobre cada estabelecimento.":"Discover places prepared to welcome people with ASD and their families. Explore the interactive map and find detailed information about each establishment."}),(0,t.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 bg-white/70 px-3 py-1 rounded-full",children:[(0,t.jsx)("span",{className:"text-green-600 font-bold",children:s.filter(e=>e.certified_autism_friendly).length}),(0,t.jsx)("span",{children:"pt"===e?"Certificados":"Certified"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 bg-white/70 px-3 py-1 rounded-full",children:[(0,t.jsx)("span",{className:"text-primary-600 font-bold",children:s.length}),(0,t.jsx)("span",{children:"pt"===e?"Total de Locais":"Total Locations"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 bg-white/70 px-3 py-1 rounded-full",children:[(0,t.jsx)("span",{className:"text-secondary-600 font-bold",children:"100%"}),(0,t.jsx)("span",{children:"pt"===e?"Gratuito":"Free"})]})]})]})})}),(0,t.jsx)(u,{establishments:r,onMarkerClick:e=>{let s=_.current[e];s&&(s.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),s.classList.add("ring-4","ring-primary-500"),setTimeout(()=>{s.classList.remove("ring-4","ring-primary-500")},3e3))}}),(0,t.jsx)("div",{className:"bg-white border-b border-secondary-200",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,t.jsx)("div",{className:"flex-1 max-w-md",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-secondary-400"}),(0,t.jsx)("input",{type:"text",placeholder:"pt"===e?"Pesquisar estabelecimentos...":"Search establishments...",value:g,onChange:e=>y(e.target.value),className:"input pl-10 pr-4 w-full","aria-label":"pt"===e?"Pesquisar estabelecimentos":"Search establishments"})]})}),(0,t.jsx)("div",{className:"flex items-center space-x-3",children:(0,t.jsxs)("button",{onClick:()=>A(!w),className:"btn btn-secondary btn-with-icon","aria-expanded":w,"aria-controls":"filters-panel",children:[(0,t.jsx)(n.Z,{className:"w-5 h-5"}),"pt"===e?"Filtros":"Filters",Object.values(k).some(e=>""!==e&&!1!==e&&0!==e&&(!Array.isArray(e)||e.length>0))&&(0,t.jsx)("span",{className:"ml-2 bg-primary-600 text-white text-xs px-2 py-1 rounded-full",children:"pt"===e?"ativo":"active"})]})})]})})}),w&&(0,t.jsx)("div",{id:"filters-panel",className:"bg-white border-b border-secondary-200",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Tipo de Local"}),(0,t.jsxs)("select",{value:k.type,onChange:e=>C(s=>({...s,type:e.target.value})),className:"input w-full",children:[(0,t.jsx)("option",{value:"",children:"Todos os tipos"}),(0,t.jsx)("option",{value:"restaurant",children:"Restaurante"}),(0,t.jsx)("option",{value:"hotel",children:"Hotel"}),(0,t.jsx)("option",{value:"attraction",children:"Atra\xe7\xe3o"}),(0,t.jsx)("option",{value:"shop",children:"Loja"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Certifica\xe7\xe3o"}),(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:k.certified_only,onChange:e=>C(s=>({...s,certified_only:e.target.checked})),className:"mr-2"}),"Apenas certificados"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Avalia\xe7\xe3o M\xednima"}),(0,t.jsxs)("select",{value:k.rating_min,onChange:e=>C(s=>({...s,rating_min:parseInt(e.target.value)})),className:"input w-full",children:[(0,t.jsx)("option",{value:0,children:"Qualquer avalia\xe7\xe3o"}),(0,t.jsx)("option",{value:3,children:"3+ estrelas"}),(0,t.jsx)("option",{value:4,children:"4+ estrelas"}),(0,t.jsx)("option",{value:5,children:"5 estrelas"})]})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsxs)("button",{onClick:L,className:"btn btn-outline w-full",children:[(0,t.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Limpar"]})})]})})}),(0,t.jsx)("div",{className:"bg-secondary-50",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("p",{className:"text-secondary-600 text-accessible-base",children:[r.length," ","pt"===e?"estabelecimento".concat(1!==r.length?"s":""," encontrado").concat(1!==r.length?"s":""):"establishment".concat(1!==r.length?"s":""," found")]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(s=>(0,t.jsxs)("div",{ref:e=>{_.current[s.id]=e},className:"card hover:shadow-lg transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-accessible-lg font-bold text-secondary-800 mb-1",children:s.name}),(0,t.jsxs)("p",{className:"text-secondary-600 text-accessible-sm mb-2",children:[s.type," â€¢ ",s.address]})]}),s.certified_autism_friendly&&(0,t.jsxs)("div",{className:"flex items-center bg-autism-friendly text-white px-3 py-1 rounded-full text-accessible-xs",children:[(0,t.jsx)(d.Z,{className:"w-4 h-4 mr-1"}),"Certificado"]})]}),(0,t.jsx)("p",{className:"text-secondary-700 text-accessible-base mb-4",children:s.description}),(0,t.jsx)("div",{className:"flex items-center space-x-4 mb-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[[1,2,3,4,5].map(e=>(0,t.jsx)(m.Z,{className:"w-5 h-5 ".concat(e<=(s.rating_average||0)?"text-yellow-400 fill-current":"text-secondary-300")},e)),(0,t.jsxs)("span",{className:"ml-2 text-accessible-sm text-secondary-600",children:["(",s.reviews_count||0," ","pt"===e?"avalia\xe7\xf5es":"reviews",")"]})]})}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(l.default,{href:"/nossa-teia/".concat(s.id),className:"btn btn-primary w-full",children:"pt"===e?"Ver Detalhes":"See Details"})})]},s.id))}),0===r.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(x.Z,{className:"w-16 h-16 text-secondary-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-accessible-lg font-medium text-secondary-800 mb-2",children:"pt"===e?"Nenhum estabelecimento encontrado":"No establishments found"}),(0,t.jsx)("p",{className:"text-secondary-600 text-accessible-base mb-4",children:"pt"===e?"Tente ajustar os filtros ou fazer uma nova pesquisa":"Try adjusting the filters or searching again"}),(0,t.jsx)("button",{onClick:L,className:"btn btn-secondary",children:"pt"===e?"Limpar Filtros":"Clear Filters"})]})]})}),(0,t.jsx)(p.Z,{})]})}},2834:function(e,s,a){"use strict";a.d(s,{Z:function(){return c}});var t=a(7437),i=a(7648),l=a(3365),r=a(8894);function c(e){let{language:s="pt"}=e,a={pt:{footerAbout:"Sobre a TEIA",footerAboutText:"A TEIA \xe9 uma plataforma dedicada ao turismo inclusivo no Algarve, conectando fam\xedlias com estabelecimentos preparados para receber pessoas com TEA.",footerQuickLinks:"Links R\xe1pidos",footerContact:"Contato",footerRights:"Todos os direitos reservados.",footerMadeWith:"Feito com",footerFor:"para fam\xedlias especiais"},en:{footerAbout:"About TEIA",footerAboutText:"TEIA is a platform dedicated to inclusive tourism in the Algarve, connecting families with establishments prepared to welcome people with ASD.",footerQuickLinks:"Quick Links",footerContact:"Contact",footerRights:"All rights reserved.",footerMadeWith:"Made with",footerFor:"for special families"}}[s];return(0,t.jsxs)("footer",{className:"relative bg-secondary-800 text-white",style:{backgroundImage:"url(https://images.unsplash.com/photo-1634681974664-d46e36f5c578)",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-secondary-800/85"}),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-16 relative z-10",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-600 to-autism-friendly rounded-lg flex items-center justify-center mr-3",children:(0,t.jsx)(l.Z,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("span",{className:"text-accessible-xl font-bold",children:"TEIA"})]}),(0,t.jsx)("h3",{className:"text-accessible-lg font-semibold mb-3",children:a.footerAbout}),(0,t.jsx)("p",{className:"text-secondary-300 text-accessible-base leading-relaxed mb-4",children:a.footerAboutText}),(0,t.jsxs)("div",{className:"flex items-center text-secondary-300",children:[(0,t.jsx)("span",{className:"mr-2",children:a.footerMadeWith}),(0,t.jsx)(r.Z,{className:"w-5 h-5 text-red-400 mx-1"}),(0,t.jsx)("span",{children:a.footerFor})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-accessible-lg font-semibold mb-4",children:a.footerQuickLinks}),(0,t.jsxs)("ul",{className:"space-y-2",children:[(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/",className:"text-secondary-300 hover:text-white transition-colors text-accessible-base",children:"In\xedcio"})}),(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/sobre-nos",className:"text-secondary-300 hover:text-white transition-colors text-accessible-base",children:"Sobre N\xf3s"})}),(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/nossa-teia",className:"text-secondary-300 hover:text-white transition-colors text-accessible-base",children:"Nossa Teia"})}),(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/contacto",className:"text-secondary-300 hover:text-white transition-colors text-accessible-base",children:"Contacto"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-accessible-lg font-semibold mb-4",children:a.footerContact}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"flex items-center text-secondary-300",children:(0,t.jsx)("span",{className:"text-accessible-base",children:"+351 289 000 000"})}),(0,t.jsx)("div",{className:"flex items-center text-secondary-300",children:(0,t.jsx)("span",{className:"text-accessible-base",children:"info@teia-algarve.pt"})}),(0,t.jsx)("div",{className:"flex items-center text-secondary-300",children:(0,t.jsx)("span",{className:"text-accessible-base",children:"www.teia-algarve.pt"})}),(0,t.jsx)("div",{className:"flex items-center text-secondary-300",children:(0,t.jsx)("span",{className:"text-accessible-base",children:"Algarve, Portugal"})})]})]})]}),(0,t.jsx)("div",{className:"border-t border-secondary-700 mt-12 pt-8 text-center",children:(0,t.jsxs)("p",{className:"text-secondary-400 text-accessible-base",children:["\xa9 2025 TEIA - Algarve Autism Friendly. ",a.footerRights]})})]})]})}}},function(e){e.O(0,[8,64,227,295,971,117,744],function(){return e(e.s=8108)}),_N_E=e.O()}]);