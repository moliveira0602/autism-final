(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{8607:function(e,s,r){Promise.resolve().then(r.bind(r,1380))},1380:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return f}});var i=r(7437),a=r(2265),l=r(9501),t=r(9729),n=r(9152),c=r(7842),o=r(1442),d=r(3365),m=r(9064);let x={very_low:"Muito Baixo",low:"Baixo",moderate:"Moderado",high:"Alto",very_high:"Muito Alto"},p=["Verbal completa","Verbal limitada","Comunica\xe7\xe3o por gestos","Comunica\xe7\xe3o visual/cart\xf5es","Dispositivos de comunica\xe7\xe3o","N\xe3o verbal"],h=["Ru\xeddos altos","Multid\xf5es","Luzes piscantes","Texturas espec\xedficas","Mudan\xe7as de rotina","Ambientes desconhecidos","Cheiros fortes","Temperaturas extremas"],u=["Manh\xe3 cedo (6h-9h)","Manh\xe3 (9h-12h)","Tarde (12h-15h)","Final da tarde (15h-18h)","Noite (18h-21h)","Noite tardia (21h+)"];function f(){let[e,s]=(0,a.useState)(null),[r,f]=(0,a.useState)(!1),[b,g]=(0,a.useState)(!1),[j,y]=(0,a.useState)(!0),{register:v,handleSubmit:N,setValue:_,watch:w,formState:{errors:E}}=(0,l.cI)();(0,a.useEffect)(()=>{let e={name:"",email:"",sensory_profile:{noise_sensitivity:"moderate",light_sensitivity:"moderate",crowd_tolerance:"moderate",communication_needs:"Verbal completa",specific_triggers:[],preferred_times:[]},language_preference:"pt"};s(e),k(e)},[]);let k=e=>{_("name",e.name),_("email",e.email),_("sensory_profile.noise_sensitivity",e.sensory_profile.noise_sensitivity),_("sensory_profile.light_sensitivity",e.sensory_profile.light_sensitivity),_("sensory_profile.crowd_tolerance",e.sensory_profile.crowd_tolerance),_("sensory_profile.communication_needs",e.sensory_profile.communication_needs),_("sensory_profile.specific_triggers",e.sensory_profile.specific_triggers),_("sensory_profile.preferred_times",e.sensory_profile.preferred_times),_("language_preference",e.language_preference)},C=async r=>{g(!0);try{let i;if((null==e?void 0:e.id)&&!j)i=await fetch("/api/users/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});else if(j){m.ZP.error("Apenas administradores podem criar perfis de usu\xe1rio. Entre em contato com o admin."),g(!1);return}else i=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(i&&i.ok){let e=await i.json();s(e),f(!1),m.ZP.success("Perfil salvo com sucesso!")}else m.ZP.error("Erro ao salvar perfil")}catch(e){console.error("Error saving profile:",e),m.ZP.error("Erro ao salvar perfil")}finally{g(!1)}},Z=e=>({very_low:"text-green-600 bg-green-50",low:"text-green-500 bg-green-50",moderate:"text-yellow-600 bg-yellow-50",high:"text-orange-600 bg-orange-50",very_high:"text-red-600 bg-red-50"})[e]||"text-gray-600 bg-gray-50",M=e=>{let s=w("sensory_profile.specific_triggers")||[];_("sensory_profile.specific_triggers",s.includes(e)?s.filter(s=>s!==e):[...s,e])},L=e=>{let s=w("sensory_profile.preferred_times")||[];_("sensory_profile.preferred_times",s.includes(e)?s.filter(s=>s!==e):[...s,e])};return e?(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(t.Z,{className:"w-8 h-8 text-primary-600 mr-3"}),(0,i.jsx)("h1",{className:"text-accessible-2xl font-bold text-secondary-800",children:"Perfil Sensorial"})]}),!j&&(0,i.jsxs)("button",{onClick:()=>f(!r),className:"btn btn-secondary flex items-center",children:[(0,i.jsx)(n.Z,{className:"w-5 h-5 mr-2"}),r?"Cancelar":"Editar"]})]}),j&&(0,i.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(c.Z,{className:"w-6 h-6 text-amber-600 mr-3"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold text-amber-800",children:"Acesso de Usu\xe1rio"}),(0,i.jsx)("p",{className:"text-amber-700 text-accessible-base",children:"Perfis sensoriais s\xe3o criados pelos administradores. Como usu\xe1rio, voc\xea pode visualizar estabelecimentos, deixar avalia\xe7\xf5es e coment\xe1rios sobre sua experi\xeancia nos locais."})]})]})}),(0,i.jsx)("p",{className:"text-accessible-base text-secondary-600",children:j?"Visualize as prefer\xeancias sensoriais e explore estabelecimentos adequados":"Configure suas prefer\xeancias sensoriais para receber recomenda\xe7\xf5es personalizadas"})]}),(0,i.jsxs)("form",{onSubmit:N(C),className:"space-y-8",children:[(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("h2",{className:"text-accessible-xl font-semibold text-secondary-800 mb-4",children:"Informa\xe7\xf5es B\xe1sicas"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"label",children:"Nome"}),(0,i.jsx)("input",{...v("name",{required:!j&&"Nome \xe9 obrigat\xf3rio"}),className:"input",disabled:!r||j,placeholder:"Nome completo"}),E.name&&(0,i.jsx)("p",{className:"text-red-500 text-accessible-sm mt-1",children:E.name.message})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"label",children:"Email"}),(0,i.jsx)("input",{...v("email",{required:!j&&"Email \xe9 obrigat\xf3rio",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email inv\xe1lido"}}),type:"email",className:"input",disabled:!r||j,placeholder:"email@exemplo.com"}),E.email&&(0,i.jsx)("p",{className:"text-red-500 text-accessible-sm mt-1",children:E.email.message})]})]}),(0,i.jsxs)("div",{className:"mt-6",children:[(0,i.jsx)("label",{className:"label",children:"Idioma Preferido"}),(0,i.jsxs)("select",{...v("language_preference"),className:"input max-w-xs",disabled:!r||j,children:[(0,i.jsx)("option",{value:"pt",children:"\uD83C\uDDF5\uD83C\uDDF9 Portugu\xeas"}),(0,i.jsx)("option",{value:"en",children:"\uD83C\uDDEC\uD83C\uDDE7 English"})]})]})]}),(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("h2",{className:"text-accessible-xl font-semibold text-secondary-800 mb-4",children:"Sensibilidades Sensoriais"}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"label",children:"Sensibilidade ao Ru\xeddo"}),(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Object.entries(x).map(e=>{let[s,a]=e;return(0,i.jsxs)("label",{className:"flex flex-col items-center p-3 border rounded-lg cursor-pointer hover:bg-secondary-50",children:[(0,i.jsx)("input",{...v("sensory_profile.noise_sensitivity"),type:"radio",value:s,disabled:!r||j,className:"mb-2"}),(0,i.jsx)("div",{className:"sensory-indicator sensory-".concat(s)}),(0,i.jsx)("span",{className:"text-accessible-sm text-center",children:a})]},s)})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"label",children:"Sensibilidade \xe0 Luz"}),(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Object.entries(x).map(e=>{let[s,a]=e;return(0,i.jsxs)("label",{className:"flex flex-col items-center p-3 border rounded-lg cursor-pointer hover:bg-secondary-50",children:[(0,i.jsx)("input",{...v("sensory_profile.light_sensitivity"),type:"radio",value:s,disabled:!r||j,className:"mb-2"}),(0,i.jsx)("div",{className:"sensory-indicator sensory-".concat(s)}),(0,i.jsx)("span",{className:"text-accessible-sm text-center",children:a})]},s)})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"label",children:"Toler\xe2ncia a Multid\xf5es"}),(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Object.entries(x).map(e=>{let[s,a]=e;return(0,i.jsxs)("label",{className:"flex flex-col items-center p-3 border rounded-lg cursor-pointer hover:bg-secondary-50",children:[(0,i.jsx)("input",{...v("sensory_profile.crowd_tolerance"),type:"radio",value:s,disabled:!r||j,className:"mb-2"}),(0,i.jsx)("div",{className:"sensory-indicator sensory-".concat(s)}),(0,i.jsx)("span",{className:"text-accessible-sm text-center",children:a})]},s)})})]})]})]}),(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("h2",{className:"text-accessible-xl font-semibold text-secondary-800 mb-4",children:"Necessidades de Comunica\xe7\xe3o"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"label",children:"Estilo de Comunica\xe7\xe3o"}),(0,i.jsx)("select",{...v("sensory_profile.communication_needs"),className:"input",disabled:!r||j,children:p.map(e=>(0,i.jsx)("option",{value:e,children:e},e))})]})]}),(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("h2",{className:"text-accessible-xl font-semibold text-secondary-800 mb-4",children:"Gatilhos Espec\xedficos"}),(0,i.jsx)("p",{className:"text-accessible-base text-secondary-600 mb-4",children:"Elementos que podem causar desconforto ou ansiedade"}),(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:h.map(e=>{var s;return(0,i.jsxs)("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-secondary-50",children:[(0,i.jsx)("input",{type:"checkbox",checked:(null===(s=w("sensory_profile.specific_triggers"))||void 0===s?void 0:s.includes(e))||!1,onChange:()=>!j&&M(e),disabled:!r||j,className:"mr-3 w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),(0,i.jsx)("span",{className:"text-accessible-sm",children:e})]},e)})})]}),(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("h2",{className:"text-accessible-xl font-semibold text-secondary-800 mb-4",children:"Hor\xe1rios Preferidos"}),(0,i.jsx)("p",{className:"text-accessible-base text-secondary-600 mb-4",children:"Hor\xe1rios em que se sente mais confort\xe1vel para atividades"}),(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:u.map(e=>{var s;return(0,i.jsxs)("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-secondary-50",children:[(0,i.jsx)("input",{type:"checkbox",checked:(null===(s=w("sensory_profile.preferred_times"))||void 0===s?void 0:s.includes(e))||!1,onChange:()=>!j&&L(e),disabled:!r||j,className:"mr-3 w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),(0,i.jsx)("span",{className:"text-accessible-sm",children:e})]},e)})})]}),r&&!j&&(0,i.jsx)("div",{className:"flex justify-end",children:(0,i.jsxs)("button",{type:"submit",disabled:b,className:"btn btn-primary flex items-center",children:[b?(0,i.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):(0,i.jsx)(o.Z,{className:"w-5 h-5 mr-2"}),"Salvar Perfil"]})})]}),(!r||j)&&e&&(0,i.jsxs)("div",{className:"card mt-8 bg-gradient-to-r from-primary-50 to-autism-calm",children:[(0,i.jsxs)("h3",{className:"text-accessible-xl font-semibold text-secondary-800 mb-4 flex items-center",children:[(0,i.jsx)(d.Z,{className:"w-6 h-6 text-primary-600 mr-2"}),"Resumo do Perfil Sensorial"]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-secondary-700 mb-2",children:"Sensibilidades"}),(0,i.jsxs)("div",{className:"space-y-1 text-accessible-sm",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("span",{className:"w-16",children:"Ru\xeddo:"}),(0,i.jsx)("span",{className:"px-2 py-1 rounded ".concat(Z(e.sensory_profile.noise_sensitivity)),children:x[e.sensory_profile.noise_sensitivity]})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("span",{className:"w-16",children:"Luz:"}),(0,i.jsx)("span",{className:"px-2 py-1 rounded ".concat(Z(e.sensory_profile.light_sensitivity)),children:x[e.sensory_profile.light_sensitivity]})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("span",{className:"w-16",children:"Multid\xe3o:"}),(0,i.jsx)("span",{className:"px-2 py-1 rounded ".concat(Z(e.sensory_profile.crowd_tolerance)),children:x[e.sensory_profile.crowd_tolerance]})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-secondary-700 mb-2",children:"Comunica\xe7\xe3o"}),(0,i.jsx)("p",{className:"text-accessible-sm text-secondary-600",children:e.sensory_profile.communication_needs})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("h4",{className:"font-medium text-secondary-700 mb-2",children:["Gatilhos (",e.sensory_profile.specific_triggers.length,")"]}),(0,i.jsxs)("div",{className:"text-accessible-sm text-secondary-600",children:[e.sensory_profile.specific_triggers.length>0?e.sensory_profile.specific_triggers.slice(0,2).map(e=>(0,i.jsx)("div",{className:"bg-white px-2 py-1 rounded mb-1",children:e},e)):(0,i.jsx)("p",{children:"Nenhum gatilho especificado"}),e.sensory_profile.specific_triggers.length>2&&(0,i.jsxs)("p",{className:"text-secondary-500",children:["+",e.sensory_profile.specific_triggers.length-2," mais"]})]})]})]})]})]}):(0,i.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,i.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})})}},1442:function(e,s,r){"use strict";var i=r(2265);let a=i.forwardRef(function(e,s){let{title:r,titleId:a,...l}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),r?i.createElement("title",{id:a},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});s.Z=a},9152:function(e,s,r){"use strict";var i=r(2265);let a=i.forwardRef(function(e,s){let{title:r,titleId:a,...l}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),r?i.createElement("title",{id:a},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});s.Z=a},7842:function(e,s,r){"use strict";var i=r(2265);let a=i.forwardRef(function(e,s){let{title:r,titleId:a,...l}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),r?i.createElement("title",{id:a},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))});s.Z=a},3365:function(e,s,r){"use strict";var i=r(2265);let a=i.forwardRef(function(e,s){let{title:r,titleId:a,...l}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),r?i.createElement("title",{id:a},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))});s.Z=a},9729:function(e,s,r){"use strict";var i=r(2265);let a=i.forwardRef(function(e,s){let{title:r,titleId:a,...l}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),r?i.createElement("title",{id:a},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});s.Z=a}},function(e){e.O(0,[64,501,971,117,744],function(){return e(e.s=8607)}),_N_E=e.O()}]);